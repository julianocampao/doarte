<!DOCTYPE html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Doarte - index</title>
<link rel="stylesheet"
	th:href="@{/vendors/website/bootstrap/css/bootstrap.min.css}">
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=News+Cycle:400,700">
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Roboto+Slab:300,400|Roboto:300,400,700">
<link rel="stylesheet"
	th:href="@{/vendors/website/fonts/font-awesome.min.css}">
<link rel="stylesheet"
	th:href="@{/vendors/website/fonts/ionicons.min.css}">

<link rel="stylesheet" th:href="@{/vendors/website/css/user.css}">

<link rel="stylesheet"
	th:href="@{/vendors/website/css/Contact-Form-Clean.css}">


<link rel="stylesheet"
	th:href="@{/vendors/website/css/Features-Boxed.css}">

<link rel="stylesheet"
	th:href="@{/vendors/website/css/Footer-Basic.css}">

<link rel="stylesheet"
	th:href="@{/vendors/website/css/Footer-Clean.css}">

<link rel="stylesheet"
	th:href="@{/vendors/website/css/Login-Form-Clean.css}">

<link rel="stylesheet"
	th:href="@{/vendors/website/css/nav-sticky-top.css}">
<link rel="stylesheet" th:href="@{/vendors/website/css/uikit.css}" />
<link rel="stylesheet" th:href="@{/vendors/website/css/upload.min.css}" />
</head>



<body>

	<form class="form-horizontal" method="POST"
		th:action="@{/cadastroUsuario}" th:object="${usuario}">
		<div class="contact-clean"
			style="background-color: rgb(243, 247, 243);">
			<div class="container">
				<br /> <br />
				<div class="alert alert-danger" th:if="${#fields.hasAnyErrors()}">
					<div th:each="detailedError : ${#fields.detailedErrors()}">
						<span th:text="${detailedError.message}"></span>
					</div>
				</div>
				<div class="alert alert-success"
					th:if="${!#strings.isEmpty(mensagem)}">
					<span th:text="${mensagem}">Usuário salvo com sucesso!!!</span>
				</div>
				<br /> <br />
				<h1 style="text-align: center;">Cadastro de usuário</h1>
				<br />

				<div class="form-group row">
					<label for="example-text-input" class="col-2 col-form-label">Nome</label>
					<div class="col-6">
						<input class="form-control" type="text" value="" id="nome"
							th:field="*{nome}">
					</div>
				</div>

				<div class="form-group row">
					<label for="example-text-input" class="col-2 col-form-label">CPF</label>
					<div class="col-6">
						<input class="form-control" type="text" value="" id="cnpj"
							th:field="*{cpf}">
					</div>
				</div>
				<div class="form-group row">
					<label for="example-search-input" class="col-2 col-form-label">Email</label>
					<div class="col-10">
						<input class="form-control" type="email" value=""
							th:field="*{email}" id="email">
					</div>
				</div>
				
				<div class="form-group row">
					<label for="example-search-input" class="col-2 col-form-label">Contato</label>
					<div class="col-10">
						<input class="form-control" type="text" value=""
							th:field="*{contato}" id="email">
					</div>
				</div>
				
				<div class="form-group row">
					<label for="example-email-input" class="col-2 col-form-label">Senha</label>
					<div class="col-10">
						<input class="form-control" type="password" th:field="*{senha}"
							id="senha">
					</div>
				</div>


				<div class="form-group row" style="display: none;">
					<label for="example-email-input" class="col-2 col-form-label">Foto</label>
					<div class="col-10">
						<input class="form-control" type="password" id="foto">
					</div>
				</div>

				<div class="form-group row">
					<label for="example-email-input" class="col-2 col-form-label">Estado</label>
					<div class="col-10">
						<select style="width: 100%;" id="selectEstado">
							<option>Selecione</option>
							<option th:each="est : ${estados}" th:value="${est.id}"
								th:text="${est.nome}"></option>
						</select>
					</div>
				</div>

				<div class="form-group row">
					<label for="example-email-input" class="col-2 col-form-label">Cidade</label>
					<div class="col-10">
						<select style="width: 100%;" id="selectCidade"
							th:field="*{cidade}">
							<option value="">Selecione</option>
						</select>
					</div>
				</div>
				<!-- <div class="row">
					<div class="form-group  col-sm-12">
						<input type="hidden"> <input type="hidden"> <label
							class="control-label">Foto</label>

						<div class="js-container-foto-cerveja">
							<div id="upload-drop" class="bw-upload">
								<i class="glyphicon  glyphicon-cloud-upload"></i> <span>Arraste
									a foto aqui ou </span> <a class="bw-upload-form-file">selecione <input
									id="upload-select" type="file" accept=".jpg,.jpeg,.png" /></a>
							</div>
						</div>
					</div>
				</div> -->

				<div class="form-group row">
					<label class="control-label">Foto</label>

					<div id="upload-drop" class="bw-upload">
						<i class="glyphicon  glyphicon-cloud-upload"></i> <span>Arraste
							a foto aqui ou </span> <a class="bw-upload-form-file">selecione <input
							id="upload-select" type="file" accept=".jpg,.jpeg,.png" /></a>
					</div>
				</div>
				<div class="form-group  col-sm-12">
					<input type="hidden" th:field="*{urlImagem}" id="urlImage">
				</div>
				<br />
				<div class="btn-group">
					<button type="submit" style="margin-right: 10px;"
						class="btn btn-default">Salvar</button>


				</div>

			</div>



		</div>

		</div>
	</form>
	<nav
		class="navbar navbar-default navbar-fixed-top navigation-clean-button"
		style="background-color: rgb(14, 13, 13); padding: 7px;">
		<div class="container">
			<div class="navbar-header">
				
				<button class="navbar-toggle collapsed" data-toggle="collapse"
					data-target="#navcol-1">
					<span class="sr-only">Toggle navigation</span><span
						class="icon-bar"></span><span class="icon-bar"></span><span
						class="icon-bar"></span>
				</button>
			</div>
			<div class="collapse navbar-collapse" id="navcol-1">
				<ul class="nav navbar-nav nav-right">
					<li><a href="/index">Home </a></li>
					<li><a href="/feedInstituicoes">Instituições
							cadastradas </a></li>
					<li><a href="/feedItensDoados">Itens para doação </a></li>
					<li><a href="/feedDesastres">Incidentes </a></li>
				</ul>

				<button class="btn btn-primary btn-sm navbar-btn navbar-right"
					role="button" onclick="cadastro()" style="margin-left: 2px;">Cadastre
					se</button>

				<a class="btn btn-primary btn-sm navbar-btn navbar-right"
					role="button" href="/login">Login</a>

			</div>
		</div>
	</nav>
	</div>
	<div class="footer-clean">
		<footer>
			<div class="container">
				<div class="row">
					<div class="col-md-3 col-sm-4 item">
						<h3>Services</h3>
						<ul>
							<li><a href="#">Web design</a></li>
							<li><a href="#">Development</a></li>
							<li><a href="#">Hosting</a></li>
						</ul>
					</div>
					<div class="col-md-3 col-sm-4 item">
						<h3>About</h3>
						<ul>
							<li><a href="#">Company</a></li>
							<li><a href="#">Team</a></li>
							<li><a href="#">Legacy</a></li>
						</ul>
					</div>
					<div class="col-md-3 col-sm-4 item">
						<h3>Careers</h3>
						<ul>
							<li><a href="#">Job openings</a></li>
							<li><a href="#">Employee success</a></li>
							<li><a href="#">Benefits</a></li>
						</ul>
					</div>
					<div class="col-md-3 item social">
						<a href="#"><i class="icon ion-social-facebook"></i></a><a
							href="#"><i class="icon ion-social-twitter"></i></a> <a href="#"><i
							class="icon ion-social-snapchat"></i></a><a href="#"><i
							class="icon ion-social-instagram"></i></a>
						<p class="copyright">Company Name © 2016</p>
					</div>
				</div>
			</div>
		</footer>
	</div>
	<script th:src="@{/vendors/website/js/jquery.min.js}"></script>
	<script th:src="@{/vendors/website/bootstrap/js/bootstrap.min.js}"></script>
	<script th:src="@{/vendors/website/js/bootbox.min.js}"></script>
	<script th:src="@{/vendors/website/js/uikit.js}"></script>
	<script th:src="@{/vendors/website/js/upload.js}"></script>


	<script type="text/javascript">
		$(function() {
			var settings = {
				type : 'json',
				filelimit : 1,
				allow : '*.(jpg|jpeg|png)',
				action : '/fotos',
				complete : function() {
					console.log('complete', arguments);
					$("#urlImage").val(arguments[1].response)
				}
			};

			UIkit.uploadSelect($('#upload-select'), settings);
			UIkit.uploadDrop($('#upload-drop'), settings);
		});

		function cadastro() {
			bootbox.confirm({
				message : "Selecione o tipo de cadastro",
				buttons : {
					confirm : {
						label : 'Instituição',
						className : 'btn-success'
					},
					cancel : {
						label : 'Usuário',
						className : 'btn-primary'
					}
				},
				callback : function(result) {
					console.log('This was logged in the callback: ' + result);
					if (result == true) {
						window.location.href = '/cadastroInstituicao';
					} else {
						window.location.href = '/cadastroUsuario';

					}

				}
			});

		}

		$("#selectEstado")
				.change(
						function() {
							var valorSelecionado = $("#selectEstado").val();
							console.log(valorSelecionado);

							if (valorSelecionado.trim() != '') {

								$
										.ajax({
											url : "/cidade/" + valorSelecionado
													+ "/list",
											method : 'GET',
											contentType : 'application/json',
											error : function(e) {

												console.log('Ocorreu um erro');

											},
											success : function(e) {
												console.log(e);

												var comboFinal = "<option>Selecione</option>";
												for (var i = 0; i < e.length; i++) {
													comboFinal += "<option value='"+e[i].id+"'  >"
															+ e[i].nome
															+ "</option>"
													console.log(e[i]);
												}
												$("#selectCidade").html(
														comboFinal);
											}
										});
							} else {

							}

						});
	</script>


</body>

</html>